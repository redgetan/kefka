#!/usr/bin/env ruby

$LOAD_PATH.unshift("#{File.expand_path(File.dirname(__FILE__))}/../lib")

require 'kefka'

if ARGV.count < 1
  puts "Usage: kefka [path_to_file]"
  exit
end

path = ARGV[0]
file = File.open(path)

kefka = Kefka.new
kefka.trace(file, :callgraph_handler)
ap kefka.method_table

